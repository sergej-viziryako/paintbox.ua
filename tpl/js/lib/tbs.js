!function(o){"use strict";function r(t,s){this.$holder=t,this.options=s,this.init()}r.prototype={init:function(){this.$tabLinks=this.$holder.find(this.options.tabLinks),this.setStartActiveIndex(),this.setActiveTab(),this.options.autoHeight&&(this.$tabHolder=o(this.$tabLinks.eq(0).attr(this.options.attrib)).parent()),this.makeCallback("onInit",this)},setStartActiveIndex:function(){var t,s=this.getClassTarget(this.$tabLinks),a=s.filter("."+this.options.activeClass),i=this.$tabLinks.filter("["+this.options.attrib+'="'+location.hash+'"]');this.options.checkHash&&i.length&&(a=i),t=s.index(a),this.activeTabIndex=this.prevTabIndex=-1===t?this.options.defaultTab?0:null:t},setActiveTab:function(){var n=this;this.$tabLinks.each(function(t,s){var a=o(s),i=n.getClassTarget(a),e=o(a.attr(n.options.attrib));t!==n.activeTabIndex?(i.removeClass(n.options.activeClass),e.addClass(n.options.tabHiddenClass).removeClass(n.options.activeClass)):(i.addClass(n.options.activeClass),e.removeClass(n.options.tabHiddenClass).addClass(n.options.activeClass)),n.attachTabLink(a,t)})},attachTabLink:function(t,s){var a=this;t.on(this.options.event+".tabset",function(t){t.preventDefault(),a.activeTabIndex===a.prevTabIndex&&a.activeTabIndex!==s&&(a.activeTabIndex=s,a.switchTabs()),a.options.checkHash&&(location.hash=jQuery(this).attr("href").split("#")[1])})},resizeHolder:function(t){var s=this;t?(this.$tabHolder.height(t),setTimeout(function(){s.$tabHolder.addClass("transition")},10)):s.$tabHolder.removeClass("transition").height("")},switchTabs:function(){var t=this,s=this.$tabLinks.eq(this.prevTabIndex),a=this.$tabLinks.eq(this.activeTabIndex),i=this.getTab(s),e=this.getTab(a);i.removeClass(this.options.activeClass),t.haveTabHolder()&&this.resizeHolder(i.outerHeight()),setTimeout(function(){t.getClassTarget(s).removeClass(t.options.activeClass),i.addClass(t.options.tabHiddenClass),e.removeClass(t.options.tabHiddenClass).addClass(t.options.activeClass),t.getClassTarget(a).addClass(t.options.activeClass),t.haveTabHolder()?(t.resizeHolder(e.outerHeight()),setTimeout(function(){t.resizeHolder(),t.prevTabIndex=t.activeTabIndex,t.makeCallback("onChange",t)},t.options.animSpeed)):t.prevTabIndex=t.activeTabIndex},this.options.autoHeight?this.options.animSpeed:1)},getClassTarget:function(t){return this.options.addToParent?t.parent():t},getActiveTab:function(){return this.getTab(this.$tabLinks.eq(this.activeTabIndex))},getTab:function(t){return o(t.attr(this.options.attrib))},haveTabHolder:function(){return this.$tabHolder&&this.$tabHolder.length},destroy:function(){var s=this;this.$tabLinks.off(".tabset").each(function(){var t=o(this);s.getClassTarget(t).removeClass(s.options.activeClass),o(t.attr(s.options.attrib)).removeClass(s.options.activeClass+" "+s.options.tabHiddenClass)}),this.$holder.removeData("Tabset")},makeCallback:function(t){var s;"function"==typeof this.options[t]&&((s=Array.prototype.slice.call(arguments)).shift(),this.options[t].apply(this,s))}},o.fn.tabset=function(a){var i=Array.prototype.slice.call(arguments),e=i[0],n=o.extend({activeClass:"active",addToParent:!1,autoHeight:!1,checkHash:!1,defaultTab:!0,animSpeed:500,tabLinks:"a",attrib:"href",event:"click",tabHiddenClass:"js-tab-hidden"},a);return n.autoHeight,this.each(function(){var t=jQuery(this),s=t.data("Tabset");"object"==typeof a||void 0===a?t.data("Tabset",new r(t,n)):"string"==typeof e&&s&&"function"==typeof s[e]&&(i.shift(),s[e].apply(s,i))})}}(jQuery,jQuery(window));
